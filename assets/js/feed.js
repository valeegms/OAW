var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
window.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("all");a.onclick=function(){b.classList.add("inactive");a.classList.remove("inactive");document.getElementById("sorting-options").style.display="revert";load_news("all")};var b=document.getElementById("categories");b.onclick=function(){a.classList.add("inactive");b.classList.remove("inactive");document.getElementById("sorting-options").style.display="none";load_categories()};var c=$("sort-by");c.onchange=function(){load_news_by_order(c.value)};
load_sidebar();load_news("all")});function $(a){return document.getElementById(a)}
function load_news_by_order(a){var b=new XMLHttpRequest;b.onload=function(){if(4===this.readyState&&200===this.status){document.getElementById("news").innerHTML=this.response;var c=document.getElementById("refresh");c.style.cursor="pointer";c.onclick=function(d){d.stopImmediatePropagation();refresh_all_news("all")}}};show_loader();b.open("POST","assets/php/get_news_by_order.php");b.setRequestHeader("Content-Type","text/plain");b.send(a)}
function load_news_by_category(a){var b=new XMLHttpRequest;b.onload=function(){if(4===this.readyState&&200===this.status){document.getElementById("news").innerHTML=this.response;var c=document.getElementById("refresh");c.style.cursor="pointer";c.onclick=function(d){d.stopImmediatePropagation();load_categories()}}};show_loader();b.open("POST","assets/php/get_news_by_category.php");b.setRequestHeader("Content-Type","text/plain");b.send(a)}
function load_categories(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){document.getElementById("news").innerHTML=a.response;for(var c={},d=$jscomp.makeIterator(document.getElementsByClassName("categoria-label")),e=d.next();!e.done;c={$jscomp$loop$prop$elem$2:c.$jscomp$loop$prop$elem$2},e=d.next())c.$jscomp$loop$prop$elem$2=e.value,c.$jscomp$loop$prop$elem$2.style.cursor="pointer",c.$jscomp$loop$prop$elem$2.onclick=function(f){return function(){load_news_by_category(f.$jscomp$loop$prop$elem$2.innerText)}}(c)}};
a.open("POST","assets/php/get_categories.php");a.send();var b=document.getElementById("refresh");b.style.cursor="pointer";b.onclick=function(c){c.stopImmediatePropagation();load_categories()}}
function refresh_all_news(a){var b,c=new XMLHttpRequest,d=[];c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){b=JSON.parse(c.responseText);for(var e=0;e<b.length;e++)d.push(b[e].feed_url);d=d.join(",");var f=new XMLHttpRequest;f.onreadystatechange=function(){f.readyState===XMLHttpRequest.DONE&&load_news(a)};f.open("POST","assets/php/refresh_all_news.php");f.setRequestHeader("Content-Type","text/plain");f.send(d)}};show_loader();c.open("GET","assets/php/read_db.php");c.send()}
function refresh_news(a){if("all"===a)refresh_all_news(a);else{var b=new XMLHttpRequest;b.onload=function(){4===this.readyState&&200===this.status&&load_news(a)};show_loader();b.open("POST","assets/php/refresh_news.php");b.setRequestHeader("Content-Type","text/plain");b.send(a)}}
function load_news(a){var b=new XMLHttpRequest;b.onload=function(){if(4===this.readyState&&200===this.status){document.getElementById("news").innerHTML=this.response;var c=document.getElementById("refresh");c.style.cursor="pointer";c.onclick=function(d){d.stopImmediatePropagation();refresh_news(a)}}};show_loader();b.open("POST","assets/php/get_news.php");b.setRequestHeader("Content-Type","text/plain");b.send(a)}
function load_sidebar(){var a,b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){a=JSON.parse(b.responseText);var c=document.getElementById("source-container");c.innerHTML="";for(var d=0;d<a.length;d++)c.innerHTML+=sidebar_format(a[d].feed_url)}};b.open("GET","assets/php/read_db.php");b.send()}function get_url(a){a=new URL(a);return a=a.hostname.replace("www.","")}
function delete_feed(a){var b=new XMLHttpRequest;b.onload=function(){4===this.readyState&&200===this.status&&load_sidebar()};b.open("GET","assets/php/delete_feed.php?url="+a);b.send()}
function sidebar_format(a){var b="delete_feed('"+a+"')";var c='<div class="d-flex align-items-center justify-content-center py-2"><div class="feed-source w-100 rounded-5 d-flex align-items-center justify-content-center mb-0 me-3" onclick="(load_news(\''+(a+'\'))"><img src="http://www.google.com/s2/favicons?domain=')+(get_url(a)+'" alt="">');c+="<p>"+get_url(a)+"</p>";return c=c+'</div><img id="delete" src="assets/icons/delete.png" height="30px" width="30px" onclick="('+(b+')"></div>')}
function show_loader(){var a=$("refresh");a.onclick=null;a.style.cursor="wait";a=document.getElementById("news");a.innerHTML="<img class='img-fluid p-4' src='assets/icons/loading.gif' alt='Loading' width='200px' height='200px'>";a.innerHTML+="<h2 class ='p-4'>Cargando noticias</h2>"};